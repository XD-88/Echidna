<!DOCTYPE html>
<html lang="en">

<head>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.10.2/p5.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.10.2/addons/p5.sound.min.js"></script>
  <script src="https://unpkg.com/ml5@0.5.0/dist/ml5.min.js"></script>
  <link rel="stylesheet" type="text/css" href="style.css">
  <meta charset="utf-8" />

</head>

<body>
  <style>
    body {
      background-color: #F5E7B2;
      margin: 0;
    }
    .header {
      background-color: #973131;
      padding: 10px;
      text-align: center;
    }
    .header p {
      display: inline-block;
    }
    .text {
      color: #F5E7B2;
      font-weight: bold;
    }
    .text2 {
      color: #973131;
      font-weight: bold;
      text-align: center;
    }
    .content {
      color: #F5E7B2;
      font-size: 20px;
      margin: 20px;
      display: block;
      text-align: center;
    }
    .content2 {
      font-size: 24px;
      margin: 20px;
    }
    .archie {
      text-align: center;
      padding: 10px;
    }
    .gohome {
      text-align: center;
      padding: 10px;
    }
  </style>
  
  <section class="header">
    <p style="display:inline-block;">
      <img src="Echidna.png" width="120" height="90">
      <span style="font-size: 80px;" class="text">Time for a Break!</span>
    </p>
  </section>

  <section class="archie">
    <p style="font-size: 28px;" class="text2">Relax and Cool Down for 5 Minutes</p>
    <p class="content2">Take this time to clear your mind and soothe your muscles by listening to calming music, meditating or stretching.</p>   
  </section>

  <section>
    <style>
      .container {
        display: flex; /* Use flexbox for layout */
        justify-content: center;
        align-items: center; /* Center items vertically */
        margin: 50px; /* Add some margin around the container */
      }

      .timer {
        font-size: 150px; /* Font size for the timer */
        margin-right: 100px; /* Margin to separate timer from audio controls */
      }

      .audio-controls {
        display: flex;
        flex-direction: column; /* Stack audio controls vertically */
        align-items: flex-start; /* Align audio controls to the left */
      }

      /* Add padding between audio elements */
      audio {
        margin-bottom: 20px; /* Space between audio elements */
      }

      /* Remove margin from the last audio element */
      audio:last-of-type {
        margin-bottom: 0; /* No margin for the last audio element */
      }

    </style>

    <div class="container">
      <div id="timer" class="timer">05:00</div>
      <div class="audio-controls">
        <audio controls>
          <source src="relax1.mp3" type="audio/mpeg">
        </audio>
        <audio controls>
          <source src="relax2.mp3" type="audio/mpeg">
        </audio>
        <audio controls>
          <source src="relax3.mp3" type="audio/mpeg">
        </audio>
      </div>
    </div>

    <script>
      let timer; // Variable to hold the timer interval
      let timeLeft = 300; // Time in seconds (5 minutes)

      // Function to start the timer
      function startTimer() {
        timer = setInterval(() => {
          if (timeLeft <= 0) {
            clearInterval(timer); // Stop the timer when it reaches 0
          } else {
            timeLeft--; // Decrement the time left
            updateTimerDisplay(); // Update the timer display
          }
        }, 1000); // 1000 ms = 1 second
      }

      // Function to update the timer display
      function updateTimerDisplay() {
        const minutes = Math.floor(timeLeft / 60);
        const seconds = timeLeft % 60;
        const formattedTime = `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
        document.getElementById("timer").textContent = formattedTime; // Update the timer display
      }
      
      // Start the timer automatically when the page loads
      window.onload = startTimer; 
    </script>
  </section>

  <section class="gohome">
    <style>
      .b {
        display: inline-block;
        height: 50px;
        width: 200px;
        background: #E0A75E;
        transition: all 0.5s;
        line-height: 50px;
        text-decoration: none;
        color: black;
        font-weight: bold;
        border-radius: 20px;
        margin: 10px;
        text-align: center;
        font-size: 24px;
      }
      .b:hover {
        background: #bc5353;
      }
    </style>
    <a class="b" href="index.html" onclick="resetCount()"> Return to Home </a>

    <script>
      // Function to reset count and redirect to the homepage
      function resetCount() {
          localStorage.setItem("stopcount", 0); // Reset count to 0
          console.log(stopcount);
      }
    </script>

  </section>

</body>

</html>